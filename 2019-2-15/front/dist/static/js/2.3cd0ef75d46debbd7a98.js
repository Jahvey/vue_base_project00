webpackJsonp([2],{B5q0:function(e,r,o){r=e.exports=o("FZ+f")(!0),r.push([e.i,".el-input[data-v-23335c9a],.el-select[data-v-23335c9a]{width:100%}","",{version:3,sources:["F:/21.客服云/02.SVN3/csc/csc-front/csc-bizplat-web/src/views/org/OrgAdd.vue"],names:[],mappings:"AAIA,uDACE,UAAY,CACb",file:"OrgAdd.vue",sourcesContent:["\n.el-input[data-v-23335c9a] {\n  width: 100%;\n}\n.el-select[data-v-23335c9a] {\n  width: 100%;\n}\n"],sourceRoot:""}])},GD4R:function(e,r,o){"use strict";function t(e){o("vMse")}Object.defineProperty(r,"__esModule",{value:!0});var s=o("HAC8"),n=o("NHx+"),a=o("VU/8"),i=t,c=a(s.a,n.a,!1,i,"data-v-23335c9a",null);r.default=c.exports},HAC8:function(e,r,o){"use strict";var t=o("p5Kd"),s=o("+C19"),n=o("E4LH");r.a={data:function(){return{corpPropOpts:s.a.corpPropCd,srvObj:[],orgInfo:{corpTypes:[],services:[]},rules:{corpName:[{required:!0,message:"请输入机构名称",trigger:"blur"},{max:100,message:"长度不超过 100 个字符",trigger:"blur"}],corpPropCd:[{required:!0,message:"请选择机构性质",trigger:"change"}],corpIntroduction:[{required:!0,message:"请输入机构服务介绍",trigger:"blur"},{max:1e3,message:"长度不超过 1000 个字符",trigger:"blur"}],busiLicenseNo:[{required:!0,message:"请输入营业执照号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址"}],adminPhoneNo:[{required:!0,message:"请输入管理员手机",trigger:"blur"},{pattern:/^1[3-9](\d){9}$/g,message:"请输入正确的手机号码",trigger:"blur"}]},isCard:!1}},mounted:function(){var e=this;this.getServices();var r=this.$route.query.method,o=this.$route.query.orgInfoId;if("add"!==r&&void 0!==o){var s={orgInfoId:o};Object(t.d)(s).then(function(r){if(void 0!==r){var o={};Object(n.a)(o,e.orgInfo),Object(n.a)(o,r),e.orgInfo=o,e.transEditSrvsToList(r.services)}}),"detail"==r&&(this.isCard=!0)}},methods:{doSave:function(){var e=this;this.$refs.orgAdd.validate(function(r){if(!r)return!1;e.orgInfo.services=e.transSelectSrvsToList(e.orgInfo.corpTypes),Object(t.e)(e.orgInfo).then(function(r){e.backToInfo(),e.$message({message:"保存机构信息成功",type:"success"})})})},doCancel:function(){this.backToInfo()},doBack:function(){this.backToInfo()},getServices:function(){var e=this;Object(t.b)().then(function(r){e.srvObj=e.transSrvsListToObj(r)})},transSrvsListToObj:function(e){var r={};return e.forEach(function(e,o){r[e.typeName]={serviceTypeId:e.serviceTypeId,checked:!1}}),r},transSelectSrvsToList:function(e){var r=this,o=[];return e.forEach(function(e,t){if(void 0!=r.srvObj[e]){var s={};s.serviceTypeId=r.srvObj[e].serviceTypeId,o.push(s)}}),o},transEditSrvsToList:function(e){var r=this;e.forEach(function(e,o){r.orgInfo.corpTypes.push(e.typeName)})},backToInfo:function(){this.$router.push({name:"orgInfo"})}}}},"NHx+":function(e,r,o){"use strict";var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"app-container"},[o("el-row",{attrs:{gutter:20}},[o("el-form",{ref:"orgAdd",attrs:{model:e.orgInfo,rules:e.rules,"label-width":"120px","label-position":"right"}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"机构名称",prop:"corpName"}},[o("el-input",{attrs:{disabled:e.isCard},model:{value:e.orgInfo.corpName,callback:function(r){e.$set(e.orgInfo,"corpName",r)},expression:"orgInfo.corpName"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"机构性质",prop:"corpPropCd"}},[o("el-select",{attrs:{clearable:"",disabled:e.isCard},model:{value:e.orgInfo.corpPropCd,callback:function(r){e.$set(e.orgInfo,"corpPropCd",r)},expression:"orgInfo.corpPropCd"}},e._l(e.corpPropOpts,function(e,r){return o("el-option",{key:r,attrs:{label:e,value:r}})}))],1)],1),e._v(" "),o("el-col",[o("el-form-item",{attrs:{label:"服务类型",prop:"corpTypes"}},[o("el-checkbox-group",{attrs:{disabled:e.isCard},model:{value:e.orgInfo.corpTypes,callback:function(r){e.$set(e.orgInfo,"corpTypes",r)},expression:"orgInfo.corpTypes"}},[e._l(e.srvObj,function(e,r){return[o("el-col",{attrs:{span:6}},[o("el-checkbox",{key:e.serviceTypeId,attrs:{label:r,name:r}})],1)]})],2)],1)],1),e._v(" "),o("el-col",[o("el-form-item",{attrs:{label:"机构服务介绍",prop:"corpIntroduction"}},[o("el-input",{attrs:{type:"textarea",maxlength:200,disabled:e.isCard},model:{value:e.orgInfo.corpIntroduction,callback:function(r){e.$set(e.orgInfo,"corpIntroduction",r)},expression:"orgInfo.corpIntroduction"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"营业执照号",prop:"busiLicenseNo"}},[o("el-input",{attrs:{disabled:e.isCard},model:{value:e.orgInfo.busiLicenseNo,callback:function(r){e.$set(e.orgInfo,"busiLicenseNo",r)},expression:"orgInfo.busiLicenseNo"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"办公电话",prop:"officePhoneNo"}},[o("el-input",{attrs:{disabled:e.isCard},model:{value:e.orgInfo.officePhoneNo,callback:function(r){e.$set(e.orgInfo,"officePhoneNo",r)},expression:"orgInfo.officePhoneNo"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"注册邮箱",prop:"email"}},[o("el-input",{attrs:{disabled:e.isCard},model:{value:e.orgInfo.email,callback:function(r){e.$set(e.orgInfo,"email",r)},expression:"orgInfo.email"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"管理员手机",prop:"adminPhoneNo"}},[o("el-input",{attrs:{disabled:e.isCard},model:{value:e.orgInfo.adminPhoneNo,callback:function(r){e.$set(e.orgInfo,"adminPhoneNo",r)},expression:"orgInfo.adminPhoneNo"}})],1)],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:6,offset:10}},[e.isCard?[o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.doBack}},[e._v("返回")])]:[o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.doSave}},[e._v("保存")]),e._v(" "),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.doCancel}},[e._v("取消")])]],2)],1)],1)},s=[],n={render:t,staticRenderFns:s};r.a=n},p5Kd:function(e,r,o){"use strict";function t(e){return Object(c.a)({url:"csc-plat/org/pageQueryOrg",method:"post",entity:e})}function s(){return Object(c.a)({url:"csc-plat/servicetype/queryAllValidServiceType",method:"post"})}function n(e){return Object(c.a)({url:"csc-plat/org/saveOrg",method:"post",entity:e})}function a(e){return Object(c.a)({url:"csc-plat/org/deleteOrg",method:"post",entity:e})}function i(e){return Object(c.a)({url:"csc-plat/org/queryOrg",method:"post",entity:e})}r.c=t,r.b=s,r.e=n,r.a=a,r.d=i;var c=o("vLgD")},vMse:function(e,r,o){var t=o("B5q0");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o("rjj0")("61d61c85",t,!0)}});
//# sourceMappingURL=2.3cd0ef75d46debbd7a98.js.map