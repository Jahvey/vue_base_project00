(function(){var n=null;UM.registerWidget("formula",{tpl:'<link type="text/css" rel="stylesheet" href="<%=formula_url%>formula.css">'+'<div class="edui-formula-wrapper"><ul class="edui-tab-nav"><\/ul><div class="edui-tab-content"><\/div><\/div>',sourceData:{formula:{common:["{/}frac{ }{ }","^{ }/_{ }","x^{ }","x_{ }","x^{ }_{ }","{/}bar{ }","{/}sqrt{ }","{/}nthroot{ }{ }","{/}sum^{ }_{n=}","{/}sum","{/}log_{ }","{/}ln","{/}int_{ }^{ }","{/}oint_{ }^{ }"],symbol:["+","-","{/}pm","{/}times","{/}ast","{/}div","/","{/}bigtriangleup","=","{/}ne","{/}approx",">","<","{/}ge","{/}le","{/}infty","{/}cap","{/}cup","{/}because","{/}therefore","{/}subset","{/}supset","{/}subseteq","{/}supseteq","{/}nsubseteq","{/}nsupseteq","{/}in","{/}ni","{/}notin","{/}mapsto","{/}leftarrow","{/}rightarrow","{/}Leftarrow","{/}Rightarrow","{/}leftrightarrow","{/}Leftrightarrow"],letter:["{/}alpha","{/}beta","{/}gamma","{/}delta","{/}varepsilon","{/}varphi","{/}lambda","{/}mu","{/}rho","{/}sigma","{/}omega","{/}Gamma","{/}Delta","{/}Theta","{/}Lambda","{/}Xi","{/}Pi","{/}Sigma","{/}Upsilon","{/}Phi","{/}Psi","{/}Omega"]}},initContent:function(t,i){var r=this,h=r.sourceData.formula,s=t.getLang("formula").static,c=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/formula/",l=$.extend({},s,{formula_url:c}),f=r.root();if(r.inited){r.preventDefault();return}r.inited=!0;n=t;r.$widget=i;f.html($.parseTmpl(r.tpl,l));r.tabs=$.eduitab({selector:"#edui-formula-tab-Jpanel"});var e=[],u=0,o=0,a=r.root().find(".edui-tab-content");$.each(h,function(n,t){var i=[];$.each(t,function(n,t){i.push('<li class="edui-formula-latex-item" data-latex="'+t+'" style="background-position:-'+u*30+"px -"+o*30+'px"><\/li>');++u>=8&&(++o,u=0)});o++;u=0;a.append('<div class="edui-tab-pane"><ul>'+i.join("")+"<\/ul>");e.push('<li class="edui-tab-item"><a href="javascript:void(0);" class="edui-tab-text">'+s["lang_tab_"+n]+"<\/a><\/li>")});e.push('<li class="edui-formula-clearboth"><\/li>');f.find(".edui-tab-nav").html(e.join(""));f.find(".edui-tab-content").append('<div class="edui-formula-clearboth"><\/div>');r.switchTab(0)},initEvent:function(){var n=this;n.root().on("click",function(){return!1});n.root().find(".edui-tab-nav").delegate(".edui-tab-item","click",function(){return n.switchTab(this),!1});n.root().find(".edui-tab-pane").delegate(".edui-formula-latex-item","click",function(){var i=$(this),t=i.attr("data-latex")||"";return t&&n.insertLatex(t.replace("{/}","\\")),n.$widget.edui().hide(),!1})},switchTab:function(n){var i=this,t=i.root(),n=$.isNumeric(n)?n:$.inArray(n,t.find(".edui-tab-nav .edui-tab-item"));t.find(".edui-tab-nav .edui-tab-item").removeClass("edui-active").eq(n).addClass("edui-active");t.find(".edui-tab-content .edui-tab-pane").removeClass("edui-active").eq(n).addClass("edui-active");i.autoHeight(0)},autoHeight:function(){this.$widget.height(this.root()+2)},insertLatex:function(t){n.execCommand("formula",t)},width:350,height:400})})();
//# sourceMappingURL=formula.min.js.map
