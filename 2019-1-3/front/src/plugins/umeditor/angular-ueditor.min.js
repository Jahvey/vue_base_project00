
/**
Created by Dio on 17-9.
http://inhu.net
 */(function(){(function(){angular.module("ng.ueditor",[]).directive("ueditor",[function(){return{restrict:"C",require:"ngModel",scope:{config:"\x3d",ready:"\x3d"},link:function(d,h,g,e){var f;f=!1;new (function(){function c(){this.bindRender();this.initEditor()}c.prototype.initEditor=function(){var a,c,b;b=this;if("undefined"===typeof UM)console.error("Please import the local resources of ueditor!");else return"undefined"===typeof b.modelContent&&(b.modelContent=""),a=d.config?d.config:window.UMEDITOR_CONFIG,c=g.id?g.id:"_editor"+Date.now(),h[0].id=c,this.editor=UM.getEditor(c,a),this.editor.ready(function(){b.editorReady=!0;b.editor.addListener("contentChange",function(){e.$setViewValue(b.editor.getContent());f||d.$$phase||d.$apply();f=!1});0<b.modelContent.length&&b.setEditorContent();"function"===typeof d.ready&&d.ready(b.editor)})};c.prototype.setEditorContent=function(a){null==a&&(a=this.modelContent);this.editor&&this.editorReady&&this.editor.setContent(a)};c.prototype.bindRender=function(){var a;a=this;e.$render=function(){a.modelContent=e.$isEmpty(e.$viewValue)?"":e.$viewValue;f=!0;a.setEditorContent()}};return c}())}}}])})()}).call(this);